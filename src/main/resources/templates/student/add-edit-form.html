<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create Student</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
<div class="container mt-5 mb-5">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h3 class="card-title" th:text="${student} ? 'Edit Student' : 'Create New Student'"></h3>
        </div>
        <div class="card-body">
            <form th:action="@{${student != null} ? '/students/edit/' + ${student.id} : '/students/create'}" method="post">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" name="name" class="form-control" id="name" placeholder="Enter student name" th:value="${student?.name}" required />
                </div>

                <div class="form-group">
                    <label for="surname">Surname:</label>
                    <input type="text" name="surname" class="form-control" id="surname" placeholder="Enter student surname" th:value="${student?.surname}" required />
                </div>

                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" name="email" class="form-control" id="email" placeholder="Enter student email" th:value="${student?.email}" required />
                </div>

                <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input type="text" name="phone" class="form-control" id="phone" placeholder="Enter student phone" th:value="${student?.phone}" required />
                </div>

                <div class="form-group">
                    <label for="address">Address:</label>
                    <input type="text" name="address" class="form-control" id="address" placeholder="Enter student address" th:value="${student?.address}" required />
                </div>

                <div class="form-group">
                    <label for="city">City:</label>
                    <input type="text" name="city" class="form-control" id="city" placeholder="Enter student city" th:value="${student?.city}" required />
                </div>

                <div class="form-group">
                    <label for="faculties">Faculties:</label>
                    <select name="faculties" class="form-control" id="faculties" required>
                        <option th:each="faculty : ${faculties}" th:value="${faculty}" th:text="${faculty?.getDisplayName()}" th:selected="${student?.faculties == faculty}"></option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="studyYear">Study Year:</label>
                    <select name="studyYear" class="form-control" id="studyYear" required>
                        <option th:each="year : ${studyYears}" th:value="${year}" th:text="${year?.name}" th:selected="${student?.studyYear == year}"></option>
                    </select>
                </div>

                <div class="d-flex justify-content-between mt-3">
                    <button type="submit" class="btn btn-success">Confirm</button>
                    <a th:href="@{/students}" class="btn btn-secondary">Back</a>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>